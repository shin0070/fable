<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¶˜í–¥ì „: ì‚´ì•„ìˆëŠ” ì´ì•¼ê¸° ì„¸ìƒ</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Gowun+Dodum&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-gradient: linear-gradient(135deg, #FFDEE9 0%, #B5FFFC 100%);
            --panel-bg: rgba(255, 255, 255, 0.95);
            --text-color: #5D4037;
            --accent-pink: #FF80AB;
            --accent-blue: #4DD0E1;
        }

        body {
            margin: 0;
            overflow: hidden;
            background-image: var(--bg-gradient);
            font-family: 'Gowun Dodum', sans-serif;
            color: var(--text-color);
        }

        /* ë°°ê²½ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes driftBG {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        body {
            background-size: 200% 200%;
            animation: driftBG 15s ease infinite;
        }

        header {
            position: absolute;
            top: 20px;
            left: 30px;
            z-index: 100;
            pointer-events: none;
        }

        h1 {
            font-family: 'Jua', sans-serif;
            font-size: 3rem;
            margin: 0;
            color: #FF4081;
            text-shadow: 3px 3px 0 #FFF;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #555;
            margin-top: 5px;
            background: rgba(255, 255, 255, 0.7);
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            font-weight: bold;
        }

        #canvas-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: grab;
        }

        #canvas-wrapper:active {
            cursor: grabbing;
        }

        .panel {
            position: absolute;
            background: var(--panel-bg);
            border: 4px solid #FFF;
            border-radius: 25px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            z-index: 90;
            transition: all 0.3s;
        }

        /* === 1. ì´ì•¼ê¸° ê·¸ë˜í”„ (ì™¼ìª½ í•˜ë‹¨ ê³ ì •) === */
        .narrative-panel {
            bottom: 30px;
            left: 30px;
            width: 60vw;
            max-width: 750px;
            height: 180px;
            display: flex;
            flex-direction: column;
        }

        .panel h3 {
            font-family: 'Jua';
            font-size: 1.4rem;
            margin: 0 0 10px 0;
            color: #FF8A80;
            border-bottom: 2px dashed #FFCCBC;
            padding-bottom: 5px;
        }

        /* === 2. ì±—ë´‡ (ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°”) === */
        .chatbot {
            top: 20px;
            right: 20px;
            bottom: 20px;
            width: 350px;
            display: flex;
            flex-direction: column;
            border: 5px solid #E0F7FA;
        }

        .chatbot-header {
            font-family: 'Jua';
            font-size: 1.6rem;
            margin-bottom: 10px;
            color: #26C6DA;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chat-area {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            background: #FAFAFA;
            border-radius: 15px;
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            border: 2px solid #EEE;
        }

        .msg {
            padding: 12px 16px;
            border-radius: 15px;
            font-size: 1.1rem;
            line-height: 1.4;
            font-weight: bold;
            max-width: 85%;
            animation: popUp 0.3s;
        }

        .msg.bot {
            background: #E0F7FA;
            align-self: flex-start;
            color: #006064;
        }

        .msg.user {
            background: #FFEBEE;
            align-self: flex-end;
            color: #C62828;
        }

        .input-box {
            display: flex;
            gap: 8px;
        }

        .input-box input {
            flex: 1;
            background: #FFF;
            border: 3px solid #E0E0E0;
            padding: 12px;
            border-radius: 25px;
            color: #555;
            outline: none;
            font-size: 1.1rem;
            font-family: 'Jua';
        }

        .input-box input:focus {
            border-color: #4DD0E1;
        }

        .input-box button {
            width: 50px;
            background: #4DD0E1;
            border: none;
            cursor: pointer;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 4px 0 #0097A7;
            transition: 0.1s;
        }

        /* === 3. ìƒì„¸ íŒ¨ë„ === */
        #detail-panel {
            top: 130px;
            left: 30px;
            width: 300px;
            max-height: 50vh;
            overflow-y: auto;
            display: none;
            border-left: 8px solid var(--accent-pink);
        }

        #detail-panel.active {
            display: block;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #info-type {
            font-family: 'Jua';
            font-size: 1rem;
            color: #FFF;
            background: #FFB7B2;
            padding: 4px 10px;
            border-radius: 12px;
            margin-bottom: 5px;
            display: inline-block;
        }

        #info-title {
            font-family: 'Jua';
            font-size: 2rem;
            margin: 0 0 10px 0;
            color: #FF6F61;
        }

        /* === 4. ì»¨íŠ¸ë¡¤ ë²„íŠ¼ (ìœ„ì¹˜ ìˆ˜ì •: ì¤‘ì•™ í•˜ë‹¨) === */
        /* ê·¸ë˜í”„ì™€ ê²¹ì¹˜ì§€ ì•Šê²Œ 'left: 50%' ì¤‘ì•™ ì •ë ¬ */
        .controls {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            display: flex;
            gap: 15px;
        }

        .ctrl-btn {
            background: #FFF;
            border: 3px solid #90CAF9;
            padding: 12px 24px;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Jua';
            font-size: 1.2rem;
            box-shadow: 0 5px 0 #90CAF9;
            color: #1565C0;
            transition: transform 0.1s;
        }

        .ctrl-btn:active {
            transform: translateY(5px);
            box-shadow: none;
        }

        .ctrl-btn:hover {
            background: #E3F2FD;
        }

        .chart-label {
            font-size: 12px;
            font-weight: bold;
            fill: #555;
            font-family: 'Jua';
            text-anchor: middle;
        }

        .chart-dot {
            fill: #FFF;
            stroke-width: 3;
        }

        .chart-line {
            fill: none;
            stroke: #FF8A80;
            stroke-width: 5;
            stroke-linecap: round;
        }
    </style>
</head>

<body>

    <header>
        <h1>ğŸŒ± ì¶˜í–¥ì „ íƒêµ¬ìƒí™œ</h1>
        <div class="subtitle">ì‚´ì•„ ì›€ì§ì´ëŠ” ì´ì•¼ê¸° ì„¸ìƒ!</div>
    </header>

    <div id="canvas-wrapper">
        <canvas id="mindmap-canvas"></canvas>
    </div>

    <!-- ì´ì•¼ê¸° ê·¸ë˜í”„ -->
    <div class="panel narrative-panel">
        <h3>ğŸ¢ ì´ì•¼ê¸° ê°ì • ë¡¤ëŸ¬ì½”ìŠ¤í„°</h3>
        <svg style="width:100%; height:100%;" viewBox="-20 -20 840 160">
            <path d="M 40,80 Q 150,40 200,60 T 350,110 T 500,120 T 650,20 T 760,40" class="chart-line" />
            <g transform="translate(40,80)">
                <circle r="8" class="chart-dot" stroke="#FFCC80" /> <text y="-20" class="chart-label">ì„¤ë ˜</text>
            </g>
            <g transform="translate(200,60)">
                <circle r="8" class="chart-dot" stroke="#EF9A9A" /> <text y="-20" class="chart-label">ì‚¬ë‘ ì•½ì†</text>
            </g>
            <g transform="translate(350,110)">
                <circle r="8" class="chart-dot" stroke="#90CAF9" /> <text y="25" class="chart-label">ì´ë³„</text>
            </g>
            <g transform="translate(500,120)">
                <circle r="10" class="chart-dot" stroke="#EF5350" /> <text y="28" class="chart-label" fill="#D32F2F"
                    font-size="14">ìµœëŒ€ ìœ„ê¸°</text>
            </g>
            <g transform="translate(650,20)">
                <circle r="12" class="chart-dot" stroke="#66BB6A" /> <text y="-25" class="chart-label" fill="#388E3C"
                    font-size="16">ì–´ì‚¬ì¶œë‘!</text>
            </g>
            <g transform="translate(760,40)">
                <circle r="8" class="chart-dot" stroke="#FFAB91" /> <text y="25" class="chart-label">í•´í”¼ì—”ë”©</text>
            </g>
        </svg>
    </div>

    <div class="panel" id="detail-panel">
        <span id="info-type">ì •ë³´</span>
        <h2 id="info-title">ì œëª©</h2>
        <div id="info-desc">ë‚´ìš©</div>
    </div>

    <div class="panel chatbot">
        <div class="chatbot-header">ğŸ° ì²™ì²™ë°•ì‚¬ í† ë¼</div>
        <div class="chat-area" id="chat-box">
            <div class="msg bot">
                ì•ˆë…•! ë‘¥ì‹¤ë‘¥ì‹¤ ë– ë‹¤ë‹ˆëŠ” ì¶˜í–¥ì „ ì„¸ìƒì— ì˜¨ ê±¸ í™˜ì˜í•´! â˜ï¸<br>
                í™”ë©´ì˜ ë™ê·¸ë¼ë¯¸ë“¤ì´ ì‚´ì•„ ì›€ì§ì´ê³  ìˆì–´.<br>
                ê¶ê¸ˆí•œ ê±´ ì–¸ì œë“  ë¬¼ì–´ë´ ğŸ¥•
            </div>
        </div>
        <div class="input-box">
            <input type="text" id="user-input" placeholder="ì§ˆë¬¸ ì…ë ¥..." onkeypress="if(event.key==='Enter') send()">
            <button onclick="send()">â¤</button>
        </div>
    </div>

    <div class="controls">
        <button class="ctrl-btn" onclick="resetView()">ì¤‘ì•™ ì •ë ¬</button>
        <button class="ctrl-btn" onclick="shuffle()">ì™€ê¸€ì™€ê¸€ ì„ê¸°</button>
    </div>

    <script>
        const sourceData = {
            id: 'root', label: 'ì¶˜í–¥ì „', type: 'root', color: '#FF8A80', size: 60, desc: 'ì¡°ì„  ìµœê³ ì˜ ë¡œë§¨ìŠ¤!<br>ì‚¬ë‘, ì´ë³„, ê·¸ë¦¬ê³  ì •ì˜ ì‹¤í˜„ì˜ ëŒ€ì„œì‚¬ì‹œ.',
            children: [
                {
                    id: 'chars', label: 'ì¸ë¬¼ë“¤', type: 'cat', color: '#BA68C8', size: 35, desc: 'ì´ì•¼ê¸°ë¥¼ ì´ëŒì–´ê°€ëŠ” ì£¼ì¸ê³µë“¤ì´ì—ìš”.',
                    children: [
                        {
                            id: 'chun', label: 'ì„±ì¶˜í–¥', type: 'char', color: '#F48FB1', size: 40, desc: 'ì£¼ì¸ê³µ. ê¸°ìƒ ì›”ë§¤ì˜ ë”¸ì´ì§€ë§Œ ë§ˆìŒë§Œì€ ëˆ„êµ¬ë³´ë‹¤ ê³ ìš´ ì•„ê°€ì”¨.',
                            children: [
                                { id: 'wolmae', label: 'ì›”ë§¤', type: 'sub', color: '#F8BBD0', size: 25, desc: 'ì¶˜í–¥ì´ì˜ ì—„ë§ˆ. ìˆ˜ë‹¤ìŠ¤ëŸ½ì§€ë§Œ ë”¸ì„ ë”ì°ì´ ì•„ê»´ìš”.' },
                                { id: 'hyang', label: 'í–¥ë‹¨ì´', type: 'sub', color: '#E1BEE7', size: 25, desc: 'ì¶˜í–¥ì´ì˜ ë‹¨ì§ ëª¸ì¢….' }
                            ]
                        },
                        {
                            id: 'mong', label: 'ì´ëª½ë£¡', type: 'char', color: '#90CAF9', size: 40, desc: 'ë‚¨ì› ë¶€ì‚¬ì˜ ì•„ë“¤. ê³µë¶€ë„ ì˜í•˜ê³  ì–¼êµ´ë„ ì˜ìƒê¸´ ì—„ì¹œì•„!',
                            children: [
                                { id: 'bang', label: 'ë°©ì', type: 'sub', color: '#B3E5FC', size: 25, desc: 'ëª½ë£¡ì´ì˜ ì¥ë‚œê¾¸ëŸ¬ê¸° í•˜ì¸.' },
                                { id: 'father', label: 'ë¶€ì‚¬', type: 'sub', color: '#B3E5FC', size: 20, desc: 'ëª½ë£¡ì´ì˜ ì•„ë²„ì§€. í•œì–‘ìœ¼ë¡œ ìŠ¹ì§„í•´ ê°€ì‹­ë‹ˆë‹¤.' }
                            ]
                        },
                        {
                            id: 'byeon', label: 'ë³€í•™ë„', type: 'char', color: '#EF9A9A', size: 35, desc: 'ìƒˆë¡œ ë¶€ì„í•œ ë‚˜ìœ ì‚¬ë˜. "ë‚´ê°€ ì™•ì´ë‹¤!"ë¼ë©° ë°±ì„±ì„ ê´´ë¡­í˜.',
                            children: [
                                { id: 'officials', label: 'ì´ë°©/í˜¸ë°©', type: 'sub', color: '#FFCDD2', size: 20, desc: 'ë³€í•™ë„ì˜ ëˆˆì¹˜ë¥¼ ë³´ëŠ” ê´€ë¦¬ë“¤.' }
                            ]
                        }
                    ]
                },
                {
                    id: 'story', label: 'ì´ì•¼ê¸° íë¦„', type: 'cat', color: '#4DB6AC', size: 35, desc: 'ì‹œê°„ ìˆœì„œëŒ€ë¡œ ì´ì•¼ê¸°ê°€ í˜ëŸ¬ê°‘ë‹ˆë‹¤.',
                    children: [
                        {
                            id: 'act1', label: '1. ë§Œë‚¨ê³¼ ì‚¬ë‘', type: 'act', color: '#FFF59D', size: 30, desc: 'ì„¤ë ˆëŠ” ì²« ë§Œë‚¨!',
                            children: [
                                { id: 's1', label: 'ë‹¨ì˜¤ í’ê²½', type: 'scene', color: '#FFF9C4', size: 20, desc: 'ê´‘í•œë£¨ ê·¸ë„¤ íƒ€ëŠ” ì¶˜í–¥.' },
                                { id: 's2', label: 'ë°±ë…„ê°€ì•½', type: 'scene', color: '#FFF9C4', size: 20, desc: 'ë‹¬ë¹› ì•„ë˜ ì‚¬ë‘ì˜ ë§¹ì„¸.' },
                                { id: 's3', label: 'ì‚¬ë‘ê°€', type: 'scene', color: '#FFF9C4', size: 20, desc: 'ê°€ì¥ í–‰ë³µí–ˆë˜ ì‹œì ˆ.' }
                            ]
                        },
                        {
                            id: 'act2', label: '2. ì‹œë ¨ì˜ ì‹œì‘', type: 'act', color: '#FFCCBC', size: 30, desc: 'ëˆˆë¬¼ì˜ ì´ë³„.',
                            children: [
                                { id: 's4', label: 'ì˜¤ë¦¬ì • ì´ë³„', type: 'scene', color: '#FFAB91', size: 22, desc: 'ê°€ì§€ ë§ˆì„¸ìš” ì„œë°©ë‹˜ ğŸ˜­' },
                                { id: 's5', label: 'ì‹ ê´€ì‚¬ë˜ ë¶€ì„', type: 'scene', color: '#FFAB91', size: 20, desc: 'ë³€í•™ë„ê°€ ë‚´ë ¤ì™”ë‹¤!' },
                                { id: 's6', label: 'ìˆ˜ì²­ ê±°ë¶€', type: 'scene', color: '#FFAB91', size: 22, desc: 'ì£½ì–´ë„ ê·¸ë ‡ê²ŒëŠ” ëª»í•©ë‹ˆë‹¤!' }
                            ]
                        },
                        {
                            id: 'act3', label: '3. í´ë¼ì´ë§‰ìŠ¤', type: 'act', color: '#81C784', size: 30, desc: 'ë°˜ê²©ì˜ ì‹œì‘!',
                            children: [
                                { id: 's7', label: 'ê±°ì§€ ëª½ë£¡', type: 'scene', color: '#A5D6A7', size: 22, desc: 'ë‹¤ ë–¨ì–´ì§„ ì˜·ì„ ì…ê³  ëŒì•„ì˜¨ ëª½ë£¡.' },
                                { id: 's8', label: 'ìƒì¼ ì”ì¹˜', type: 'scene', color: '#A5D6A7', size: 22, desc: 'ë³€í•™ë„ê°€ í¥ì²­ë§ì²­ ì”ì¹˜ë¥¼ ë²Œì„.' },
                                { id: 's9', label: 'ì–´ì‚¬ ì¶œë‘', type: 'scene', color: '#66BB6A', size: 30, desc: 'ì•”í–‰ì–´ì‚¬ ì¶œë‘ìš”!!! ë‹¤ë“¤ ì—ë“œë ¤!!' }
                            ]
                        }
                    ]
                }
            ]
        };

        let nodes = [], links = [], map = {};
        function flatten(n, p = null) {
            // Add 'phase' for breathing animation
            const node = { ...n, x: 0, y: 0, vx: 0, vy: 0, phase: Math.random() * Math.PI * 2 };
            nodes.push(node); map[node.id] = node;
            if (p) links.push({ source: p, target: node.id });
            if (n.children) n.children.forEach(c => flatten(c, node.id));
        }
        flatten(sourceData);
        links = links.map(l => ({ source: map[l.source], target: map[l.target] }));

        const cvs = document.getElementById('mindmap-canvas');
        const ctx = cvs.getContext('2d');
        let w, h, t = { x: 0, y: 0, k: 0.75 };

        function init() {
            w = window.innerWidth; h = window.innerHeight; cvs.width = w; cvs.height = h;
            nodes.forEach(n => { n.x = w / 2 + (Math.random() - 0.5) * 500; n.y = h / 2 + (Math.random() - 0.5) * 500; });
        }

        let frame = 0;
        function sim() {
            const k = 160;
            frame++;

            nodes.forEach(a => {
                // Gravity Center
                a.vx += (w * 0.4 - a.x) * 0.0015;
                a.vy += (h / 2 - a.y) * 0.0015;

                // Repulsion
                nodes.forEach(b => {
                    if (a === b) return;
                    let x = a.x - b.x, y = a.y - b.y, d2 = x * x + y * y || 1;
                    if (d2 < 200000) { let d = Math.sqrt(d2), f = 4500 / d2; a.vx += x / d * f; a.vy += y / d * f; }
                });

                // === Breathing/Floating Motion ===
                // Adds a gentle sine wave force to create 'life'
                a.vx += Math.sin(frame * 0.02 + a.phase) * 0.08;
                a.vy += Math.cos(frame * 0.02 + a.phase) * 0.08;
            });

            links.forEach(l => {
                let s = l.source, tg = l.target, x = tg.x - s.x, y = tg.y - s.y, d = Math.sqrt(x * x + y * y) || 1, f = (d - k) * 0.05;
                s.vx += x / d * f; s.vy += y / d * f; tg.vx -= x / d * f; tg.vy -= y / d * f;
            });

            nodes.forEach(n => {
                n.vx *= 0.91; n.vy *= 0.91; // Less friction for better float
                n.x += n.vx; n.y += n.vy;
            });
        }

        function draw() {
            ctx.clearRect(0, 0, w, h);
            ctx.save(); ctx.translate(t.x, t.y); ctx.scale(t.k, t.k);

            ctx.lineWidth = 3; ctx.strokeStyle = '#CCC'; ctx.setLineDash([8, 8]);
            links.forEach(l => { ctx.beginPath(); ctx.moveTo(l.source.x, l.source.y); ctx.lineTo(l.target.x, l.target.y); ctx.stroke(); });
            ctx.setLineDash([]);

            nodes.forEach(n => {
                ctx.beginPath(); ctx.arc(n.x, n.y, n.size, 0, Math.PI * 2);
                ctx.fillStyle = n.color; ctx.fill();
                ctx.lineWidth = 4; ctx.strokeStyle = '#FFF'; ctx.stroke();

                ctx.font = 'bold 16px Jua';
                let tw = ctx.measureText(n.label).width;
                ctx.fillStyle = 'rgba(255,255,255,0.85)';
                ctx.roundRect(n.x - tw / 2 - 8, n.y + n.size + 8, tw + 16, 24, 12); ctx.fill();
                ctx.fillStyle = '#555'; ctx.textAlign = 'center'; ctx.fillText(n.label, n.x, n.y + n.size + 25);
            });
            ctx.restore();
        }
        function loop() { sim(); draw(); requestAnimationFrame(loop); }
        init(); loop();

        let down = false, start = { x: 0, y: 0 }, drag = null;
        cvs.addEventListener('mousedown', e => {
            down = true; start = { x: e.clientX, y: e.clientY };
            let mx = (e.clientX - t.x) / t.k, my = (e.clientY - t.y) / t.k;
            drag = nodes.find(n => (mx - n.x) ** 2 + (my - n.y) ** 2 < (n.size + 15) ** 2);
        });
        cvs.addEventListener('mousemove', e => {
            if (drag) { drag.x += (e.clientX - start.x) / t.k; drag.y += (e.clientY - start.y) / t.k; drag.vx = 0; drag.vy = 0; start = { x: e.clientX, y: e.clientY }; }
            else if (down) { t.x += e.clientX - start.x; t.y += e.clientY - start.y; start = { x: e.clientX, y: e.clientY }; }
        });
        cvs.addEventListener('mouseup', e => {
            if (drag && Math.hypot(e.clientX - start.x, e.clientY - start.y) < 5) showInfo(drag);
            drag = null; down = false;
        });
        window.addEventListener('resize', init);
        window.addEventListener('wheel', e => { e.preventDefault(); t.k *= Math.exp(-e.deltaY * 0.001); }, { passive: false });

        function showInfo(n) {
            const p = document.getElementById('detail-panel'); p.classList.add('active');
            document.getElementById('info-title').innerText = n.label;
            document.getElementById('info-desc').innerHTML = n.desc;
        }
        function shuffle() { nodes.forEach(n => { n.vx += (Math.random() - 0.5) * 30; n.vy += (Math.random() - 0.5) * 30; }); }
        function resetView() { t = { x: 0, y: 0, k: 0.75 }; }

        const ib = document.getElementById('user-input');
        function send() {
            const v = ib.value.trim(); if (!v) return;
            msg(v, 'user'); ib.value = '';
            setTimeout(() => {
                let r = "ìŒ... ê·¸ê±´ ì˜ ëª¨ë¥´ê² ì–´ ğŸ¥•";
                if (v.includes('ëª½ë£¡')) r = "ëª½ë£¡ì´ëŠ” ì¥ì› ê¸‰ì œí•´ì„œ ì•”í–‰ì–´ì‚¬ê°€ ë¼ì„œ ëŒì•„ì™”ì§€! ì•„ì£¼ ë˜‘ë˜‘í•˜ê³  ë©‹ì ¸.";
                else if (v.includes('ì¶˜í–¥')) r = "ì¶˜í–¥ì´ëŠ” ëê¹Œì§€ ì‚¬ë‘ì„ ì§€ì¼œë‚¸ ë©‹ì§„ ì£¼ì¸ê³µì´ì•¼.";
                else if (v.includes('ë³€í•™ë„')) r = "ë³€í•™ë„ëŠ” ìš•ì‹¬ì´ ì•„ì£¼ ë§ì•„. ë‚¨ì˜ ìƒì¼ì— ì”ì¹˜ë‚˜ ë²Œì´ê³  ë§ì´ì•¼!";
                else if (v.includes('ì•ˆë…•')) r = "ì•ˆë…•! ì´ì•¼ê¸°ê°€ ì‚´ì•„ ì›€ì§ì´ëŠ”ê²Œ ë³´ì´ë‹ˆ?";
                msg(r, 'bot');
            }, 600);
        }
        function msg(t, c) {
            const b = document.getElementById('chat-box');
            const d = document.createElement('div'); d.className = `msg ${c}`; d.innerHTML = t;
            b.appendChild(d); b.scrollTop = b.scrollHeight;
        }
    </script>
</body>

</html>